var StyleManager={init:function(rules){var styleEl=document.createElement('style');document.head.appendChild(styleEl);this.styleSheet=styleEl.sheet;if(rules){this.addRule(rules);}},getSheet:function(){return this.styleSheet;},addRule:function(rule){if(rule.length){this.addRules(rule);}
else{var ruleObj=this.parseRule(rule);this.insertRule(ruleObj.selector,ruleObj.propStr);}},addRules:function(rules){for(var i=0,rl=rules.length;i<rl;i++){var ruleObj=this.parseRule(rules[i]);this.insertRule(ruleObj.selector,ruleObj.propStr);}},removeRule:function(){stylesheet.deleteRule(index);},removeRules:function(){},changeRule:function(){},changeRules:function(){},insertRule:function(selector,propStr){this.styleSheet.insertRule(selector+'{'+propStr+'}',this.styleSheet.cssRules.length);},parseRule:function(rule){var j=1;var selector=rule[0];var propStr='';if(Object.prototype.toString.call(rule[1][0])==='[object Array]'){rule=rule[1];j=0;}
for(var pl=rule.length;j<pl;j++){var prop=rule[j];propStr+=prop[0]+':'+prop[1]+(prop[2]?' !important':'')+';\n';}
return{selector:selector,propStr:propStr};}};