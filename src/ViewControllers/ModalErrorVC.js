(function(){"use strict";var base=ViewControllerManager.findClass("ViewControllerNav");ViewControllerManager.newClassDef("ModalErrorVC",Class.create({_extends_:base,_init_:function(args){base.call(this,args);this.activeChild='btnBack';this.navigation={};},onUnload:function(){$('#ModalContent').removeClass('moveUp');},onLoad:function(){$('#ModalContent').addClass('moveUp');$('#Header').hide();},render:function(location){this._super(location);ViewControllerManager.find('Root').hideSplash();this.enable();this.class=$('#Header').attr('class');$('#Header').attr('class','error');if(language&&Model.App.file&&language[Model.App.file.language]){if(Model.App.errorCode===108){$(this.rootID+' #popup_Title').html('');if(language[Model.App.file.language]){$(this.rootID+' #popup_description').html(language[Model.App.file.language].error.regionNotSupported);}else{$(this.rootID+' #popup_description').html(language['en-US'].error.regionNotSupported);}}else{$(this.rootID+' #popup_Title').html(language[Model.App.file.language].errorPopUp.error_title.replace('[XXX]',Model.App.errorCode));$(this.rootID+' #popup_description').html('The App has stopped working.');}
$(this.rootID+' #btn_exit p').html(language[Model.App.file.language].errorPopUp.btn_exit);}else{$(this.rootID+' #popup_Title').html('Error number '+Model.App.errorCode);$(this.rootID+' #popup_description').html('The App has stopped working.');$(this.rootID+' #btn_exit p').html('Exit');}
this.activeChild='btn_exit';TVA.setFocus(this.activeChild);Util.hideSpriteLoader();},onKeyDown:function(e,keyCode){if(!Model.App.Loading){switch(keyCode){case Keys.getBind("Circle"):case Keys.getBind("Back"):this.onClose();break;case Keys.getBind("Up"):e.stopImmediatePropagation();break;case Keys.getBind("Down"):e.stopImmediatePropagation();break;case Keys.getBind("Left"):e.stopImmediatePropagation();break;case Keys.getBind("Right"):e.stopImmediatePropagation();break;case Keys.getBind("Cross"):case Keys.getBind("Enter"):$('#'+TVA.onFocus).click();e.stopImmediatePropagation();break;}}
e.stopPropagation();},_navigate:function(direction,e){var nextChild=this.navigation[this.activeChild][direction];if(nextChild&&this.children[nextChild]){this.children[nextChild].view.enable();e.stopPropagation();}else if($(this.rootID).find('#'+nextChild).length){TVA.setFocus(nextChild);this.activeChild=nextChild;e.stopPropagation();}},onMouseLeave:function(e){$('#'+e.target.id).removeClass('active');},onBackHover:function(e){$('#'+e.target.id).addClass('active');},onHover:function(event){},onClose:function(){$(this.rootID+' .active').removeClass('active');$('#Header').attr('class',this.class);this.parentVC.backToPrevious();if(settings.device==='samsung_tizen'){TVA.quit();}else{TVA.quit(true);}}}));})();